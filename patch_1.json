{
    "rationale": "The vulnerability is a SQL injection risk caused by using an f-string to directly insert user input into a SQL query. The fix uses SQLAlchemy's parameterized query with bound parameters, which safely escapes user input and prevents SQL injection while maintaining the same functionality.",
    "patch": "--- a/app.py\n+++ b/app.py\n@@ -21,8 +21,8 @@\n def add():\n     title = request.form.get(\"title\")\n     if title:\n-        sql = f\"INSERT INTO todo (title, complete) VALUES ('{title}', 0)\"\n-        db.session.execute(sql)\n+        sql = \"INSERT INTO todo (title, complete) VALUES (:title, 0)\"\n+        db.session.execute(sql, {\"title\": title})\n         db.session.commit()\n     return redirect(url_for(\"index\"))"
  }