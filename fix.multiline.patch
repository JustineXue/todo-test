--- app.py
+++ app.py
@@ -22,10 +22,8 @@
 def add():
     title = request.form.get("title")
     if title:
-        sql = f"INSERT INTO todo (title, complete) VALUES ('{title}', 0)"
-        db.session.execute(sql)
-        db.session.commit()
+        todo = Todo(title=title, complete=False)
+        db.session.add(todo)
+        db.session.commit()
     return redirect(url_for("index"))
 
 @app.route("/complete/<int:todo_id>")
@@ -153,7 +151,7 @@
     todo = Todo(title=title, complete=False)
     db.session.add(todo)
     db.session.commit()
-    sig = hashlib.md5(title.encode()).hexdigest()
+    sig = hashlib.sha256(title.encode()).hexdigest()
     print(f"Storing signature for todo {todo.id}: {sig}")
 
     return jsonify({
@@ -251,4 +249,4 @@
     db.create_all()
 
 if __name__ == "__main__":
-  app.run(debug=True)
+  app.run(debug=False)
